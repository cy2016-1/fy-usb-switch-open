#ifndef CONFIG_WIFI_HTML_H
#define CONFIG_WIFI_HTML_H
#include <pgmspace.h>
/**
 * @brief 配网HTML代码 本段代码改编自 https://blog.csdn.net/weixin_44220583/article/details/111562423
 */
const char *page_html = "<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'><meta http-equiv='Expires'content='0'><meta http-equiv='Pragma'content='no-cache'><meta http-equiv='Cache-Control'content='no-cache'><meta http-equiv='Cache'content='no-cache'><meta name='viewport'content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'><title>飞鱼梦工坊wifi配网程序</title><style>*{margin:0;padding:0}body{font-size:16px;margin:0 15px;z-index:0;background:#fff}.fxc{display:flex;align-content:center;align-items:center}.button{width:40%;border-radius:5px;height:40px;background:none;border:1px solid#6A6DA9;font-size:20px;font-weight:500;justify-content:space-evenly;color:#333}.button:active{background:#ccc}.wi-t{display:flex;margin:0 15px;justify-content:space-between;font-size:20px;color:#ccc}#wi-l{display:flex;flex-direction:column;align-items:center;justify-content:space-between;font-size:25px;color:#333}divw{height:35px;border-bottom:1px solid#ccc;width:95%;color:#333;background:none;margin-top:10px;overflow:hidden}divw:active{background:#50bfff}.title{justify-content:center;height:10%;font-size:35px;color:#725af3;letter-spacing:5px;text-shadow:0px 12px 10px#9d91bf}.c-i{height:20%;max-height:20%;display:flex;flex-direction:column}.i-t{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-evenly;font-size:20px;color:#ccc}input{width:76%;line-height:30px;font-size:25px;margin-top:15px;border-top:0;border-left:0;border-right:0;border-bottom:1px solid#ccc}.c-b{margin-top:15px;margin-bottom:15px;justify-content:space-around}.l-s-c{width:50px;height:50px}.path{stroke:#409eff;stroke-width:2;stroke-dasharray:95,126;stroke-dashoffset:0;animation:loading-dash 1.5s ease-in-out infinite}@keyframes loading-dash{0%{stroke-dasharray:1,126;stroke-dashoffset:0}50%{stroke-dasharray:95,126;stroke-dashoffset:-31px}to{stroke-dasharray:6,120;stroke-dashoffset:-120px}}.loading{width:60%;height:20%;position:absolute;background:#fff;display:flex;align-items:center;justify-content:space-around;top:30%;left:20%;flex-direction:column;color:#F4606C;border-radius:20px;overflow:hidden;font-size:14px;z-index:999}.box{width:100%;height:100%;position:fixed;background:#ccc;opacity:0.85;margin-left:-15px;display:none}#tip{margin:0 15px;font-size:14px;color:#333;font-weight:500}</style></head><body onload='initData()'><div class='box'><div class='loading'><svg viewBox='0 0 50 50'class='l-s-c'><circle cx='25'cy='25'r='20'fill='none'class='path'></circle></svg><span id='tip'></span></div></div><div class='fxc title'>飞鱼梦wifi配网</div><div class='c-i'><div class='i-t'>WIFI：<input id='ssid'type='text'value=''/></div><div class='i-t'>密码：<input id='pwd'type='password'value=''/></div></div><div class='fxc c-b'><button class='fxc button'onclick='fcwi()'>提&nbsp;&nbsp;交</button><button class='fxc button'onclick='reset()'>重&nbsp;&nbsp;置</button></div><div class='wi-t'><span>wifi列表</span><span style='color: #6A6DA9;'onclick='getwl()'>刷新</span></div><div id='wi-l'></div></body><script>function initData(){setTimeout(function(){getwl()},1000)}function getbi(i){return document.getElementById(i)}function getbc(c){return document.getElementsByClassName(c)}function swld(msg){getbc('box')[0].style.display='table';getbi('tip').innerHTML=msg}function hild(){getbc('box')[0].style.display='none';getbi('tip').innerHTML=''}function sLoad(m){hild();swld(m);setTimeout(function(){hild()},2000)}function getwl(){getbi('tip').innerText='';swld('搜索wifi中...');fdg('/wifilist').then((res)=>{hild();if(res.indexOf('.nodata')!==-1){sLoad('找不到有效wifi信息')}else{var a=res.split(',');var h='';for(var i of a){if(i===''){continue}h+='<divw onclick=\"setSsid(event)\">'+i+'</divw>'}getbi('wi-l').innerHTML=h}},(err)=>{sLoad('网络异常，请检查手机是否连接设备的热点。')})}function setSsid(event){getbi('tip').innerText='';getbi('ssid').value=event.currentTarget.innerText}function reset(){getbi('tip').innerText='';getbi('ssid').value='';getbi('pwd').value=''}function fcwi(){var s=getbi('ssid').value;var p=getbi('pwd').value;if(s===''||s===null||typeof(s)==='undefined'){sLoad('wifi名称不能为空！');return}var u='/configwifi?ssid='+s+'&pwd='+p;swld('网络配置中...');fdg(u).then((res)=>{if('success'===res){sLoad('wifi连接成功，设备即将重启，请求出该页面！')}else{sLoad('WiFi连接失败，请检查账号密码是否正确！')}},(err)=>{sLoad('网络异常，请检查手机是否连接设备的热点!')})}function fdg(u){return new Promise((resolve,reject)=>{try{var a=new XMLHttpRequest();a.open('get',u);a.send();a.onerror=(e)=>{reject(e)};a.onreadystatechange=()=>{if(a.response){resolve(a.response)}}}catch(e){reject(e)}})}</script></html>";
#endif