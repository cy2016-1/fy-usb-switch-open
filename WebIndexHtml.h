#ifndef CONFIG_WIFI_HTML_H
#define CONFIG_WIFI_HTML_H
/**
 * 操作页面html代码
 */
const char *web_index_html = "<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'><meta http-equiv='Expires'content='0'><meta http-equiv='Pragma'content='no-cache'><meta http-equiv='Cache-Control'content='no-cache'><meta http-equiv='Cache'content='no-cache'><meta name='viewport'content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'><title>飞鱼梦工坊USB开关</title><style>*{margin:0;padding:0}body{font-size:16px;margin:0 15px;z-index:0;background-color:rgb(232,232,232);color:#2d2d2d}.flexcenter{display:flex;align-content:center;align-items:center}.title{justify-content:center;height:10%;font-size:35px;color:rgb(37,42,108);varter-spacing:14px;padding-top:10px}.loading-svg-container{width:50px;height:50px}.path{stroke:#409eff;stroke-width:2;stroke-dasharray:95,126;stroke-dashoffset:0;animation:loading-dash 1.5s ease-in-out infinite}@keyframes loading-dash{0%{stroke-dasharray:1,126;stroke-dashoffset:0}50%{stroke-dasharray:95,126;stroke-dashoffset:-31px}to{stroke-dasharray:6,120;stroke-dashoffset:-120px}}.loading{width:40%;height:15%;position:absolute;background:#fff;display:flex;align-items:center;justify-content:space-around;top:30%;left:30%;flex-direction:column;color:#F4606C;border-radius:20px;overflow:hidden;font-size:14px;z-index:999}.box{width:100%;height:100%;position:fixed;background:#cccccc;opacity:0.8;margin-left:-15px;display:none}.card-row{display:flex;justify-content:space-between;padding:10px;margin-top:10px;background-color:#fff;border-radius:10px}.card-col{display:flex;flex-direction:column;justify-content:space-between;padding:10px;margin-top:10px;background-color:#fff;border-radius:10px}.card-label-title{font-size:20px;font-weight:600;color:#333}.card-btn{border:1px solid#ccc;border-radius:5px;height:40px;margin:5px;font-size:18px;font-weight:600;varter-spacing:16px}.card-btn:active{background:#333}.power-item{display:flex;flex-direction:column;font-weight:500;font-size:30px;text-align:center}.power-item-min-font{font-size:18px;font-weight:400;color:#cccccc}.switch-item{display:flex;flex-direction:row;align-items:center;width:48%;background:#ccc;border-radius:10px;height:60px}.switch-item-icon{width:40px;height:40px;background:rgb(37,42,108);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:600;color:#fff;margin-left:10px}.switch-item-text{margin-left:10px;font-size:20px;font-weight:600;color:#3c3c3c}.down-time-item{display:flex;flex-direction:row;width:100%;margin:5px 0}.down-time-item-title{font-size:20px;font-weight:600;color:#333;margin-left:10px;margin-bottom:5px}.open-time-item{display:flex;flex-direction:row;width:100%;margin:5px;align-items:center}.open-time-item input{width:25px;height:25px;margin-right:15px}.time-select{width:70%;height:30px;border:1px solid#ccc;border-radius:5px;font-size:18px;font-weight:600;color:#2d2d2d;varter-spacing:1px}.key-setting-item{display:flex;margin:10px 0}.key-setting-item-radio{display:flex;align-items:center;margin-right:25px}.key-setting-item-radio input{width:25px;height:25px;margin-right:5px}.key-setting-item-select{display:flex;flex-direction:row;width:100%;margin-bottom:5px}</style></head><body onload='initData()'><!--显示loading--><div class='box'><div class='loading'><svg viewBox='0 0 50 50'class='loading-svg-container'><circle cx='25'cy='25'r='20'fill='none'class='path'></circle></svg><span id='tip'></span></div></div><!--标题--><div class='flexcenter title'>飞鱼USB开关</div><!--功率信息卡片--><div class='card-row'><div class='power-item'><span><span class='power-value'></span><span class='power-item-min-font'>v</span></span><span class='power-item-min-font'>电压</span></div><div class='power-item'><span><span class='power-value'></span><span class='power-item-min-font'>mA</span></span><span class='power-item-min-font'>电流</span></div><div class='power-item'><span><span class='power-value'></span><span class='power-item-min-font'>w</span></span><span class='power-item-min-font'>功率</span></div></div><!--开关控制卡片--><div class='card-row'><div class='switch-item'onclick='switchClick(0)'><span class='switch-item-icon'id='switchIcon'></span><span class='switch-item-text'id='switch'></span></div><div class='switch-item'onclick='switchClick(1)'><span class='switch-item-icon'id='switchLedIcon'></span><span class='switch-item-text'id='switchLed'></span></div></div><!--倒计时关闭--><div class='card-col'><label class='card-label-title'><span>倒计时</span><span id='timedown-value'>00:00:00</span></label><div class='down-time-item'><div style='width: 45%;'><span>时：</span><select class='time-select'id='timedownHS'onchange='downtimeChange(this)'></select></div><div style='width: 45%;'><span>分：</span><select class='time-select'id='timedownMS'onchange='downtimeChange(this)'></select></div></div><button class='card-btn'onclick='saveTimeDownSelect()'>保存设置</button></div><!--定时开关控制--><div class='card-col'><label class='card-label-title'>定时开启</label><div class='open-time-item'><input type='radio'name='timeRadioA'onclick='timeRadioClick(this)'onchange='showSaveBtn(1,false)'/><div style='width: 40%;'><span>时：</span><select class='time-select'id='timeopenHS'onchange='timeJobChange(this)'></select></div><div style='width: 40%;'><span>分：</span><select class='time-select'id='timeopenMS'onchange='timeJobChange(this)'></select></div></div><label class='card-label-title'>定时关闭</label><div class='open-time-item'><input type='radio'name='timeRadioB'onclick='timeRadioClick(this)'onchange='showSaveBtn(1,false)'/><div style='width: 40%;'><span>时：</span><select class='time-select'id='timecloseHS'onchange='timeJobChange(this)'></select></div><div style='width: 40%;'><span>分：</span><select class='time-select'id='timecloseMS'onchange='timeJobChange(this)'></select></div></div><button class='card-btn'onclick='saveTimeSelect()'>保存设置</button></div><!--按键自定义控制卡片--><div class='card-col'><label class='card-label-title'>按键单击功能</label><div class='key-setting-item'><div class='key-setting-item-radio'><input type='radio'name='keyARadio'value='0'onclick='showKeyTime(0,0)'onchange='showSaveBtn(2,false)'/><span>开关</span></div><div class='key-setting-item-radio'><input type='radio'name='keyARadio'value='1'onclick='showKeyTime(1,0)'onchange='showSaveBtn(2,false)'/><span>延时开关</span></div><div class='key-setting-item-radio'><input type='radio'name='keyARadio'value='2'onclick='showKeyTime(2,0)'onchange='showSaveBtn(2,false)'/><span>不操作</span></div></div><div id='keyaselect'class='key-setting-item-select'><div style='width: 45%;'><span>时：</span><select class='time-select'id='keyAsetHS'onchange='keysetChange(this)'></select></div><div style='width: 45%;'><span>分：</span><select class='time-select'id='keyAsetMS'onchange='keysetChange(this)'></select></div></div><!--双击按键--><label class='card-label-title'>按键双击功能</label><div class='key-setting-item'><div class='key-setting-item-radio'><input type='radio'name='keyBRadio'value='0'onclick='showKeyTime(0,1)'onchange='showSaveBtn(2,false)'/><span>开关</span></div><div class='key-setting-item-radio'><input type='radio'name='keyBRadio'value='1'onclick='showKeyTime(1,1)'onchange='showSaveBtn(2,false)'/><span>延时开关</span></div><div class='key-setting-item-radio'><input type='radio'name='keyBRadio'value='2'onclick='showKeyTime(2,1)'onchange='showSaveBtn(2,false)'/><span>不操作</span></div></div><div id='keybselect'class='key-setting-item-select'><div style='width: 45%;'><span>时：</span><select class='time-select'id='keyBsetHS'onchange='keysetChange(this)'></select></div><div style='width: 45%;'><span>分：</span><select class='time-select'id='keyBsetMS'onchange='keysetChange(this)'></select></div></div><button class='card-btn'onclick='saveKeysetSelect()'>保存设置</button></div><div class='card-row'style='justify-content: start'><span>固件版本：</span><span id='version'></span></div></body><script type='application/javascript'>const FY_TRUE=0xf1;const FY_FALSE=0xf0;timerA=null;var timerB=null;var switchData={enable:FY_FALSE,enableLed:FY_TRUE,version:''};var downtimeData={closeHour:0,showText:'00:00:00',refreshNum:0};var timejobData={closeEnable:FY_FALSE,closeHour:0,closeMinute:0,openEnable:FY_FALSE,openHour:0,openMinute:0,};var keysetData={click:0,doubleClick:0,clickData:0,doubleClickData:0};function initData(){initTimeHourSelect();if(timerA==null){timerA=setInterval(()=>{getPowerData()},3000)}if(timerB==null){timerB=setInterval(()=>{getDownTimeData()},1000)}showloading('加载数据中！');setTimeout(function(){getAllData();initTimeHourSelect();hideloading()},1000)}function getById(id){return document.getElementById(id)}function setAttrById(id,value){var obj=getById(id);obj.setAttribute('value',value);obj[value].setAttribute('selected',true)}function initTimeHourSelect(){const hours=Array.from({length:24},(_,index)=>index);const seconds=Array.from({length:60},(_,index)=>index);initSelect('timeopenHS',hours,' 时');initSelect('timeopenMS',seconds,' 分');initSelect('timecloseHS',hours,' 时');initSelect('timecloseMS',seconds,' 分');initSelect('keyAsetHS',hours,' 时');initSelect('keyAsetMS',seconds,' 分');initSelect('keyBsetHS',hours,' 时');initSelect('keyBsetMS',seconds,' 分');initSelect('timedownHS',hours,' 时');initSelect('timedownMS',seconds,' 分')}function initSelect(id,datas,unit){var select=getById(id);var value=Number.parseInt(select.getAttribute('value'));var html='';for(var data of datas){var isSelect=value===data;html+='<option '+(isSelect?'selected':'')+' value = \"'+data+'\" > '+data+unit+'</option > '}select.innerHTML=html}function showloading(msg){document.getElementsByClassName('box')[0].style.display='table';getById('tip').innerHTML=msg}function hideloading(){document.getElementsByClassName('box')[0].style.display='none';getById('tip').innerHTML=''}function refreshSwitch(){if(switchData.enable===FY_TRUE){getById('switchIcon').innerText='关';getById('switch').innerText='关闭'}else{getById('switchIcon').innerText='开';getById('switch').innerText='开启'}if(switchData.enableLed===FY_TRUE){getById('switchLedIcon').innerText='关';getById('switchLed').innerText='关闭指示灯'}else{getById('switchLedIcon').innerText='开';getById('switchLed').innerText='开启指示灯'}getById('version').innerText=switchData.version}function refreshDowntime(){getById('timedown-value').innerText=downtimeData.showText;var arr=downtimeData.showText.split(':');if(Number.parseInt(arr[2])===59||downtimeData.refreshNum===1){setAttrById('timedownHS',Number.parseInt(arr[0]));setAttrById('timedownMS',Number.parseInt(arr[1]))}}function downtimeChange(e){setAttrById(e.id,e.value);showSaveBtn(0,false)}function refreshTimejob(){setAttrById('timeopenHS',Number.parseInt(timejobData.openHour));setAttrById('timeopenMS',Number.parseInt(timejobData.openMinute));setAttrById('timecloseHS',Number.parseInt(timejobData.closeHour));setAttrById('timecloseMS',Number.parseInt(timejobData.closeMinute));setRadioValue('timeRadioA',null,timejobData.openEnable===FY_FALSE);setRadioValue('timeRadioB',null,timejobData.closeEnable===FY_FALSE)}function timeJobChange(e){setAttrById(e.id,e.value);showSaveBtn(1,false)}function refreshKeyset(){setRadioValue('keyARadio',Number.parseInt(keysetData.click),false);setRadioValue('keyBRadio',Number.parseInt(keysetData.doubleClick),false);showKeyTime(Number.parseInt(keysetData.click),0);showKeyTime(Number.parseInt(keysetData.doubleClick),1);var clickDataStr=intToSplitTime(keysetData.clickData);var arrA=clickDataStr.split(':');setAttrById('keyAsetHS',Number.parseInt(arrA[0]));setAttrById('keyAsetMS',Number.parseInt(arrA[1]));var doubleClickDataStr=intToSplitTime(keysetData.doubleClickData);var arrB=doubleClickDataStr.split(':');setAttrById('keyBsetHS',Number.parseInt(arrB[0]));setAttrById('keyBsetMS',Number.parseInt(arrB[1]))}function keysetChange(e){setAttrById(e.id,e.value);showSaveBtn(3,false)}function switchClick(type){if(type===0){switchData.enable=(switchData.enable===FY_TRUE)?FY_FALSE:FY_TRUE}else{switchData.enableLed=(switchData.enableLed===FY_TRUE)?FY_FALSE:FY_TRUE}doget('/fyusb/write?p=0&m=0&enable='+switchData.enable+'&enableLed='+switchData.enableLed,function(result){refreshSwitch()})}function saveTimeDownSelect(){var hour=getById('timedownHS').getAttribute('value');var minute=getById('timedownMS').getAttribute('value');var data=hour+':'+minute+':00';var downTime=splitTimeToInt(data);downtimeData.showText=data;downtimeData.closeHour=downTime;doget('/fyusb/write?p=2&m=1&closeHour='+downtimeData.closeHour,function(result){refreshDowntime();showSaveBtn(0,true)})}function saveTimeSelect(){var hour=getById('timeopenHS').getAttribute('value');var minute=getById('timeopenMS').getAttribute('value');var closeHour=getById('timecloseHS').getAttribute('value');var closeMinute=getById('timecloseMS').getAttribute('value');var radioA=document.querySelector('input[name=\"timeRadioA\"]');var radioB=document.querySelector('input[name=\"timeRadioB\"]');timejobData.openEnable=radioA?FY_TRUE:FY_FALSE;timejobData.closeEnable=radioB?FY_TRUE:FY_FALSE;timejobData.openHour=hour;timejobData.openMinute=minute;timejobData.closeHour=closeHour;timejobData.closeMinute=closeMinute;doget('/fyusb/write?p=2&m=0&'+objectToUrl(timejobData),function(result){refreshTimejob();showSaveBtn(1,true)})}function saveKeysetSelect(){var hour=getById('keyAsetHS').getAttribute('value');var minute=getById('keyAsetMS').getAttribute('value');var closeHour=getById('keyBsetHS').getAttribute('value');var closeMinute=getById('keyBsetMS').getAttribute('value');var temp=hour+':'+minute+':00';var clickData=splitTimeToInt(temp);temp=closeHour+':'+closeMinute+':00';var doubleClickData=splitTimeToInt(temp);var radioA=document.querySelector('input[name=\"keyARadio\"]:checked').getAttribute('value');var radioB=document.querySelector('input[name=\"keyBRadio\"]:checked').getAttribute('value');keysetData.click=radioA;keysetData.doubleClick=radioB;keysetData.clickData=clickData;keysetData.doubleClickData=doubleClickData;doget('/fyusb/write?p=3&m=0&'+objectToUrl(keysetData),function(result){refreshKeyset();showSaveBtn(2,true)})}function timeRadioClick(event){if(event.hasAttribute('checked')){event.removeAttribute('checked');event.checked=false}else{event.setAttribute('checked',true);event.checked=true}}function showKeyTime(value,type){var id=type===0?'keyaselect':'keybselect';if(value===1){getById(id).style.display='flex'}else{getById(id).style.display='none'}}function showSaveBtn(index,show){if(!show){document.getElementsByClassName('card-btn')[index].style.display=''}else{document.getElementsByClassName('card-btn')[index].style.display='none'}}function setRadioValue(name,value,checked){var doms=document.querySelectorAll(\"input[name='\"+name+\"']\");var radioDom=null;if(doms.length>1){for(var dom of doms){if(dom.getAttribute('value')===(value+'')){radioDom=dom;break}}}else{radioDom=doms[0]}if(checked){radioDom.removeAttribute('checked');radioDom.checked=false}else{radioDom.setAttribute('checked',true);radioDom.checked=true}}function getAllData(){getPowerData();getEnableData();getDownTimeData();getTimeOpenData();getKeysetData();showSaveBtn(0,true);showSaveBtn(1,true);showSaveBtn(2,true)}function getPowerData(){doget('/fyusb/read?p=1&m=0',function(result){var data=JSON.parse(result);var doms=document.getElementsByClassName('power-value');doms[0].innerText=Number.parseFloat(data.v).toFixed(2);doms[1].innerText=Number.parseFloat(data.a).toFixed(2);doms[2].innerText=Number.parseFloat(data.p).toFixed(2)})}function getEnableData(){doget('/fyusb/read?p=0&m=0',function(result){switchData=JSON.parse(result);refreshSwitch()})}function getDownTimeData(){doget('/fyusb/read?p=2&m=1',function(result){var data=JSON.parse(result);var timsStr=intToSplitTime(data.closeHour);downtimeData.closeHour=data.closeHour;downtimeData.showText=timsStr;downtimeData.refreshNum++;refreshDowntime()})}function getTimeOpenData(){doget('/fyusb/read?p=2&m=0',function(result){timejobData=JSON.parse(result);refreshTimejob()})}function getKeysetData(){doget('/fyusb/read?p=3&m=0',function(result){keysetData=JSON.parse(result);refreshKeyset()})}function splitTimeToInt(str){var arr=str.split(':');var hour=Number.parseInt(arr[0]);var minute=Number.parseInt(arr[1]);return hour*60*60+minute*60}function intToSplitTime(num){var h=Number.parseInt(num/(60*60));var m=Number.parseInt((num-(h*60*60))/(60));var s=(num-(h*60*60)-(m*60));return(h<10?'0':'')+h+':'+(m<10?'0':'')+m+':'+(s<10?'0':'')+s}function objectToUrl(obj){var url='';for(var key in obj){if(obj.hasOwnProperty(key)){url+=encodeURIComponent(key)+'='+encodeURIComponent(obj[key])+'&'}}return url.slice(0,-1)}function doget(url,callback){var ajax=new XMLHttpRequest();ajax.open('get',url);ajax.send();ajax.onreadystatechange=function(){if(ajax.response){callback(ajax.response)}}}</script></html>";
#endif